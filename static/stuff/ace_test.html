<script src="http://cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/ace.js" type="text/javascript" charset="utf-8"></script>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>

<style>
.code_text { 
    position: relative;
    width: 600px;
    height: 200px;
}
</style>

<div id='blocks'></div>

<script>
for(var i = 0; i < 2; i++) {
    $('#blocks').append($("<div class='code_text'>foo</div>"));
    (function() {
        var editor = ace.edit($('.code_text').last()[0])
        editor.on('change', function() { 
            console.log('change:', editor.getValue()) 
        } )
    })();
}
</script>